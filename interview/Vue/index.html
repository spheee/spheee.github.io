<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Vue | hsky的笔记</title>
    <meta name="description" content="Move Mountains">
    <link rel="icon" href="/favicon.ico">
    
    <link rel="preload" href="/assets/css/0.styles.93903021.css" as="style"><link rel="preload" href="/assets/js/app.ff41487b.js" as="script"><link rel="preload" href="/assets/js/2.2b6ae421.js" as="script"><link rel="preload" href="/assets/js/9.1fe441f8.js" as="script"><link rel="prefetch" href="/assets/js/10.a8a897c2.js"><link rel="prefetch" href="/assets/js/11.26345a12.js"><link rel="prefetch" href="/assets/js/12.963c4ab7.js"><link rel="prefetch" href="/assets/js/13.a7b81c89.js"><link rel="prefetch" href="/assets/js/14.abb5a014.js"><link rel="prefetch" href="/assets/js/15.55293c4f.js"><link rel="prefetch" href="/assets/js/16.bc7eb234.js"><link rel="prefetch" href="/assets/js/17.36400d1e.js"><link rel="prefetch" href="/assets/js/18.8203b615.js"><link rel="prefetch" href="/assets/js/19.08c1cc97.js"><link rel="prefetch" href="/assets/js/20.0f7bada4.js"><link rel="prefetch" href="/assets/js/21.b556ab16.js"><link rel="prefetch" href="/assets/js/22.466a7c86.js"><link rel="prefetch" href="/assets/js/23.dde664d1.js"><link rel="prefetch" href="/assets/js/24.b2a45002.js"><link rel="prefetch" href="/assets/js/25.1830c424.js"><link rel="prefetch" href="/assets/js/26.51ed1674.js"><link rel="prefetch" href="/assets/js/27.319c71d6.js"><link rel="prefetch" href="/assets/js/28.71fcc6fb.js"><link rel="prefetch" href="/assets/js/29.1bd69c98.js"><link rel="prefetch" href="/assets/js/3.fbb0f5e1.js"><link rel="prefetch" href="/assets/js/30.c046292e.js"><link rel="prefetch" href="/assets/js/31.ea0a860a.js"><link rel="prefetch" href="/assets/js/32.07a46a58.js"><link rel="prefetch" href="/assets/js/33.eacacdad.js"><link rel="prefetch" href="/assets/js/34.56f7c18b.js"><link rel="prefetch" href="/assets/js/35.343c1a11.js"><link rel="prefetch" href="/assets/js/36.0ba7f73a.js"><link rel="prefetch" href="/assets/js/37.182c345f.js"><link rel="prefetch" href="/assets/js/38.3ce1b8a9.js"><link rel="prefetch" href="/assets/js/39.403dea57.js"><link rel="prefetch" href="/assets/js/4.713bb758.js"><link rel="prefetch" href="/assets/js/40.e021871a.js"><link rel="prefetch" href="/assets/js/41.db5e5a19.js"><link rel="prefetch" href="/assets/js/42.153fc28e.js"><link rel="prefetch" href="/assets/js/43.ea93208a.js"><link rel="prefetch" href="/assets/js/44.e49bd998.js"><link rel="prefetch" href="/assets/js/45.bcd6e1af.js"><link rel="prefetch" href="/assets/js/46.f5697e79.js"><link rel="prefetch" href="/assets/js/47.c072da8f.js"><link rel="prefetch" href="/assets/js/5.3985f7f8.js"><link rel="prefetch" href="/assets/js/6.8211e0c6.js"><link rel="prefetch" href="/assets/js/7.44b01ddd.js"><link rel="prefetch" href="/assets/js/8.9f164842.js">
    <link rel="stylesheet" href="/assets/css/0.styles.93903021.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">hsky的笔记</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><a href="/guide/" class="nav-link">Guide</a></div><div class="nav-item"><a href="/interview/" class="nav-link router-link-active">Interview</a></div><div class="nav-item"><a href="/JavaScript/" class="nav-link">JavaScript</a></div><div class="nav-item"><a href="/CSS/" class="nav-link">CSS</a></div><div class="nav-item"><a href="/demos.html" class="nav-link">demo</a></div><div class="nav-item"><a href="https://github.com/spheee" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><a href="/guide/" class="nav-link">Guide</a></div><div class="nav-item"><a href="/interview/" class="nav-link router-link-active">Interview</a></div><div class="nav-item"><a href="/JavaScript/" class="nav-link">JavaScript</a></div><div class="nav-item"><a href="/CSS/" class="nav-link">CSS</a></div><div class="nav-item"><a href="/demos.html" class="nav-link">demo</a></div><div class="nav-item"><a href="https://github.com/spheee" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/interview/" class="sidebar-link">简介</a></li><li><a href="/interview/JavaScript/" class="sidebar-link">JavaScript</a></li><li><a href="/interview/CSS/" class="sidebar-link">CSS</a></li><li><a href="/interview/Html/" class="sidebar-link">HTML</a></li><li><a href="/interview/Vue/" class="active sidebar-link">Vue</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/interview/Vue/#说说你对-spa-单页面的理解，它的优缺点分别是什么？" class="sidebar-link">说说你对 SPA 单页面的理解，它的优缺点分别是什么？</a></li><li class="sidebar-sub-header"><a href="/interview/Vue/#vue-生命周期" class="sidebar-link">Vue 生命周期</a></li><li class="sidebar-sub-header"><a href="/interview/Vue/#vue-router-如何实现路由懒加载" class="sidebar-link">vue-router 如何实现路由懒加载</a></li><li class="sidebar-sub-header"><a href="/interview/Vue/#vue-的单向数据流" class="sidebar-link">vue 的单向数据流</a></li><li class="sidebar-sub-header"><a href="/interview/Vue/#v-show-与-v-if-区别" class="sidebar-link">v-show 与 v-if 区别</a></li><li class="sidebar-sub-header"><a href="/interview/Vue/#开发中常用的指令有哪些" class="sidebar-link">开发中常用的指令有哪些</a></li><li class="sidebar-sub-header"><a href="/interview/Vue/#绑定-class-的数组用法" class="sidebar-link">绑定 class 的数组用法</a></li><li class="sidebar-sub-header"><a href="/interview/Vue/#组件之间的传值通信" class="sidebar-link">组件之间的传值通信</a></li><li class="sidebar-sub-header"><a href="/interview/Vue/#路由跳转方式" class="sidebar-link">路由跳转方式</a></li><li class="sidebar-sub-header"><a href="/interview/Vue/#mvvm" class="sidebar-link">MVVM</a></li><li class="sidebar-sub-header"><a href="/interview/Vue/#computed-和-watch-有什么区别" class="sidebar-link">computed 和 watch 有什么区别?</a></li><li class="sidebar-sub-header"><a href="/interview/Vue/#key" class="sidebar-link">key</a></li><li class="sidebar-sub-header"><a href="/interview/Vue/#组件中的-data-为什么是函数" class="sidebar-link">组件中的 data 为什么是函数</a></li><li class="sidebar-sub-header"><a href="/interview/Vue/#keep-alive" class="sidebar-link">keep-alive</a></li><li class="sidebar-sub-header"><a href="/interview/Vue/#v-model-的原理" class="sidebar-link">v-model 的原理</a></li><li class="sidebar-sub-header"><a href="/interview/Vue/#nexttick" class="sidebar-link">nextTick()</a></li><li class="sidebar-sub-header"><a href="/interview/Vue/#vue-组件" class="sidebar-link">vue 组件</a></li><li class="sidebar-sub-header"><a href="/interview/Vue/#vue-插槽" class="sidebar-link">vue 插槽</a></li><li class="sidebar-sub-header"><a href="/interview/Vue/#vuex-工作原理及内容" class="sidebar-link">vuex 工作原理及内容</a></li><li class="sidebar-sub-header"><a href="/interview/Vue/#vue-项目优化" class="sidebar-link">vue 项目优化</a></li></ul></li><li><a href="/interview/ES6/" class="sidebar-link">ES6</a></li><li><a href="/interview/webpack/" class="sidebar-link">webpack</a></li><li><a href="/interview/Others/" class="sidebar-link">Others</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="vue"><a href="#vue" aria-hidden="true" class="header-anchor">#</a> Vue</h1> <blockquote><p>Vue 的问题比较杂乱</p></blockquote> <p><strong>目录</strong></p><div class="table-of-contents"><ul><li><a href="#说说你对-spa-单页面的理解，它的优缺点分别是什么？">说说你对 SPA 单页面的理解，它的优缺点分别是什么？</a></li><li><a href="#vue-生命周期">Vue 生命周期</a><ul><li><a href="#什么是-vue-生命周期？">什么是 Vue 生命周期？</a></li><li><a href="#vue-生命周期的作用是什么？">Vue 生命周期的作用是什么？</a></li><li><a href="#vue-生命周期总共有几个阶段？">Vue 生命周期总共有几个阶段？</a></li><li><a href="#生命周期示意图">生命周期示意图</a></li><li><a href="#第一次页面加载会触发哪几个钩子？">第一次页面加载会触发哪几个钩子？</a></li><li><a href="#dom-渲染在哪个周期中就已经完成？">DOM 渲染在哪个周期中就已经完成？</a></li><li><a href="#每个生命周期适合哪些场景？">每个生命周期适合哪些场景？</a></li></ul></li><li><a href="#vue-router-如何实现路由懒加载">vue-router 如何实现路由懒加载</a></li><li><a href="#vue-的单向数据流">vue 的单向数据流</a><ul><li><a href="#这个-prop-用来传递一个初始值；这个子组件接下来希望将其作为一个本地的-prop-数据来使用">这个 prop 用来传递一个初始值；这个子组件接下来希望将其作为一个本地的 prop 数据来使用</a></li><li><a href="#这个-prop-以一种原始的值传入且需要进行转换">这个 prop 以一种原始的值传入且需要进行转换</a></li></ul></li><li><a href="#v-show-与-v-if-区别">v-show 与 v-if 区别</a></li><li><a href="#开发中常用的指令有哪些">开发中常用的指令有哪些</a></li><li><a href="#绑定-class-的数组用法">绑定 class 的数组用法</a></li><li><a href="#组件之间的传值通信">组件之间的传值通信</a></li><li><a href="#路由跳转方式">路由跳转方式</a></li><li><a href="#mvvm">MVVM</a></li><li><a href="#computed-和-watch-有什么区别">computed 和 watch 有什么区别?</a><ul><li><a href="#computed">computed:</a></li><li><a href="#watch">watch:</a></li></ul></li><li><a href="#key">key</a></li><li><a href="#组件中的-data-为什么是函数">组件中的 data 为什么是函数</a></li><li><a href="#keep-alive">keep-alive</a></li><li><a href="#v-model-的原理">v-model 的原理</a></li><li><a href="#nexttick">nextTick()</a></li><li><a href="#vue-组件">vue 组件</a></li><li><a href="#vue-插槽">vue 插槽</a></li><li><a href="#vuex-工作原理及内容">vuex 工作原理及内容</a></li><li><a href="#vue-项目优化">vue 项目优化</a><ul><li><a href="#_1-代码层面的优化">1. 代码层面的优化</a></li><li><a href="#_2-webpack-层面的优化">2. webpack层面的优化</a></li><li><a href="#_3-基础的-web-技术的优化">3.基础的 Web 技术的优化</a></li></ul></li></ul></div><p></p> <h2 id="说说你对-spa-单页面的理解，它的优缺点分别是什么？"><a href="#说说你对-spa-单页面的理解，它的优缺点分别是什么？" aria-hidden="true" class="header-anchor">#</a> 说说你对 SPA 单页面的理解，它的优缺点分别是什么？</h2> <p>SPA（ single-page application ）仅在 Web 页面初始化时加载相应的 HTML、JavaScript 和 CSS。一旦页面加载完成，SPA 不会因为用户的操作而进行页面的重新加载或跳转；取而代之的是利用路由机制实现 HTML 内容的变换，UI 与用户的交互，避免页面的重新加载。</p> <ul><li><p>优点：</p> <ul><li>用户体验好、快，内容的改变不需要重新加载整个页面，避免了不必要的跳转和重复渲染；</li> <li>基于上面一点，SPA 相对对服务器压力小；</li> <li>前后端职责分离，架构清晰，前端进行交互逻辑，后端负责数据处理；</li></ul></li> <li><p>缺点：</p> <ul><li>初次加载耗时多：为实现单页 Web 应用功能及显示效果，需要在加载页面的时候将 JavaScript、CSS 统一加载，部分页面按需加载；</li> <li>前进后退路由管理：由于单页应用在一个页面中显示所有的内容，所以不能使用浏览器的前进后退功能，所有的页面切换需要自己建立堆栈管理；</li> <li>SEO 难度较大：由于所有的内容都在一个页面中动态替换显示，所以在 SEO 上其有着天然的弱势。</li></ul></li></ul> <h2 id="vue-生命周期"><a href="#vue-生命周期" aria-hidden="true" class="header-anchor">#</a> Vue 生命周期</h2> <h3 id="什么是-vue-生命周期？"><a href="#什么是-vue-生命周期？" aria-hidden="true" class="header-anchor">#</a> 什么是 Vue 生命周期？</h3> <p><code>Vue</code>实例从创建到销毁的过程，就是生命周期。也就是从开始创建、初始化数据、编译模板、挂载 Dom -&gt; 渲染、更新 -&gt; 渲染、卸载等一系列过程。</p> <h3 id="vue-生命周期的作用是什么？"><a href="#vue-生命周期的作用是什么？" aria-hidden="true" class="header-anchor">#</a> Vue 生命周期的作用是什么？</h3> <p>它的生命周期中有多个事件钩子，让我们在控制整个<code>Vue</code>实例的过程时更容易形成好的逻辑。</p> <h3 id="vue-生命周期总共有几个阶段？"><a href="#vue-生命周期总共有几个阶段？" aria-hidden="true" class="header-anchor">#</a> Vue 生命周期总共有几个阶段？</h3> <table><thead><tr><th>生命周期</th> <th style="text-align:center;">描述</th></tr></thead> <tbody><tr><td><code>beforeCreate</code></td> <td style="text-align:center;">组件实例被创建之初，组件的属性生效之前</td></tr> <tr><td><code>created</code></td> <td style="text-align:center;">组件实例已经完全创建，属性也绑定，但真实 dom 还没有生成，$el 还不可用</td></tr> <tr><td><code>beforeMount</code></td> <td style="text-align:center;">在挂载开始之前被调用：相关的 render 函数首次被调用</td></tr> <tr><td><code>mounted</code></td> <td style="text-align:center;">el 被新创建的 vm.$el 替换，并挂载到实例上去之后调用该钩子</td></tr> <tr><td><code>beforeUpdate</code></td> <td style="text-align:center;">组件数据更新之前调用，发生在虚拟 DOM 打补丁之前</td></tr> <tr><td><code>update</code></td> <td style="text-align:center;">组件数据更新之后</td></tr> <tr><td><code>activited</code></td> <td style="text-align:center;"><code>keep-alive</code> 专属，组件被激活时调用</td></tr> <tr><td><code>deadctivated</code></td> <td style="text-align:center;"><code>keep-alive</code> 专属，组件被销毁时调用</td></tr> <tr><td><code>beforeDestory</code></td> <td style="text-align:center;">组件销毁前调用</td></tr> <tr><td><code>destoryed</code></td> <td style="text-align:center;">组件销毁后调用</td></tr></tbody></table> <h3 id="生命周期示意图"><a href="#生命周期示意图" aria-hidden="true" class="header-anchor">#</a> 生命周期示意图</h3> <p><img src="/assets/img/lifecycle.b3251a15.png" alt="图"></p> <h3 id="第一次页面加载会触发哪几个钩子？"><a href="#第一次页面加载会触发哪几个钩子？" aria-hidden="true" class="header-anchor">#</a> 第一次页面加载会触发哪几个钩子？</h3> <p>第一次页面加载时会触发 beforeCreate, created, beforeMount, mounted 这几个钩子</p> <h3 id="dom-渲染在哪个周期中就已经完成？"><a href="#dom-渲染在哪个周期中就已经完成？" aria-hidden="true" class="header-anchor">#</a> DOM 渲染在哪个周期中就已经完成？</h3> <p>DOM 渲染在 mounted 中就已经完成了</p> <h3 id="每个生命周期适合哪些场景？"><a href="#每个生命周期适合哪些场景？" aria-hidden="true" class="header-anchor">#</a> 每个生命周期适合哪些场景？</h3> <p>生命周期钩子的一些使用方法：<br>
beforecreate : 可以在这加个 loading 事件，在加载实例时触发<br>
created : 初始化完成时的事件写在这里，如在这结束 loading 事件，异步请求也适宜在这里调用<br>
mounted : 挂载元素，获取到 DOM 节点<br>
updated : 如果对数据统一处理，在这里写上相应函数<br>
beforeDestroy : 可以做一个确认停止事件的确认框<br>
nextTick : 更新数据后立即操作 dom</p> <h2 id="vue-router-如何实现路由懒加载"><a href="#vue-router-如何实现路由懒加载" aria-hidden="true" class="header-anchor">#</a> vue-router 如何实现路由懒加载</h2> <p>懒加载简单来说就是延迟加载或按需加载，即在需要的时候的时候进行加载。
常用懒加载有两种方式：即使用 vue 异步组件和 ES 中的 import。<br>
未使用懒加载是 vue 的 component 需要在 router 中先 import 进来，如下：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> Router <span class="token keyword">from</span> <span class="token string">'vue-router'</span>
<span class="token keyword">import</span> HelloWorld <span class="token keyword">from</span> <span class="token string">'@/components/HelloWorld'</span>

Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Router<span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Router</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	routes<span class="token punctuation">:</span> <span class="token punctuation">[</span>
		<span class="token punctuation">{</span>
			path<span class="token punctuation">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span>
			name<span class="token punctuation">:</span> <span class="token string">'HelloWorld'</span><span class="token punctuation">,</span>
			component<span class="token punctuation">:</span> HelloWorld
		<span class="token punctuation">}</span>
	<span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>vue 异步组件实现懒加载</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> Router <span class="token keyword">from</span> <span class="token string">'vue-router'</span> <span class="token comment">/* 此处省去之前导入的HelloWorld模块 */</span>
Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Router<span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Router</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	routes<span class="token punctuation">:</span> <span class="token punctuation">[</span>
		<span class="token punctuation">{</span>
			path<span class="token punctuation">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span>
			name<span class="token punctuation">:</span> <span class="token string">'HelloWorld'</span><span class="token punctuation">,</span>
			<span class="token function-variable function">component</span><span class="token punctuation">:</span> <span class="token parameter">resolve</span> <span class="token operator">=&gt;</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'@/components/HelloWorld'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> resolve<span class="token punctuation">)</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>ES6 的 import 方法</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> Router <span class="token keyword">from</span> <span class="token string">'vue-router'</span>
Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Router<span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Router</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	routes<span class="token punctuation">:</span> <span class="token punctuation">[</span>
		<span class="token punctuation">{</span>
			path<span class="token punctuation">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span>
			name<span class="token punctuation">:</span> <span class="token string">'HelloWorld'</span><span class="token punctuation">,</span>
			<span class="token function-variable function">component</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'@/components/HelloWorld'</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>组件懒加载同路由懒加载<br>
结论：路由和组件的常用两种懒加载方式：</p> <ol><li>vue异步组件实现路由懒加载</li></ol> <p><code>component：resolve=&gt;(['需要加载的路由的地址'，resolve])</code></p> <ol start="2"><li>es提出的import(推荐使用这种方式)</li></ol> <p><code>const HelloWorld = （）=&gt;import('需要加载的模块地址')</code></p> <h2 id="vue-的单向数据流"><a href="#vue-的单向数据流" aria-hidden="true" class="header-anchor">#</a> vue 的单向数据流</h2> <p>所有的<code>prop</code>都使得其父子<code>prop</code>之间形成了一个单向下行绑定：父级<code>prop</code>的更新会向下流动到子组件中，但是反过来则不行。这样会防止从子组件意外改变父级组件的状态，从而导致你的应用的数据流向难以理解。<br>
额外的，每次父级组件发生更新时，子组件中所有的<code>prop</code>都将会刷新为最新的值。这意味着你不应该在一个子组件内部改变<code>prop</code>。如果你这样做了，<code>Vue</code>会在浏览器的控制台中发出警告。子组件想修改时，只能通过<code>$emit</code>派发一个自定义事件，父组件接收到后，由父组件修改。</p> <h3 id="这个-prop-用来传递一个初始值；这个子组件接下来希望将其作为一个本地的-prop-数据来使用"><a href="#这个-prop-用来传递一个初始值；这个子组件接下来希望将其作为一个本地的-prop-数据来使用" aria-hidden="true" class="header-anchor">#</a> 这个 prop 用来传递一个初始值；这个子组件接下来希望将其作为一个本地的 prop 数据来使用</h3> <blockquote><p>在这种情况下，最好定义一个本地的 data 属性并将这个 prop 用作其初始值：</p></blockquote> <div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code>props<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'initialCounter'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token function-variable function">data</span><span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    counter<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>initialCounter
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="这个-prop-以一种原始的值传入且需要进行转换"><a href="#这个-prop-以一种原始的值传入且需要进行转换" aria-hidden="true" class="header-anchor">#</a> 这个 prop 以一种原始的值传入且需要进行转换</h3> <blockquote><p>在这种情况下，最好使用这个 prop 的值来定义一个计算属性</p></blockquote> <div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code>props<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'size'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
computed<span class="token punctuation">:</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">normalizedSize</span><span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>size<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="v-show-与-v-if-区别"><a href="#v-show-与-v-if-区别" aria-hidden="true" class="header-anchor">#</a> v-show 与 v-if 区别</h2> <p><code>v-show</code>是 css 切换，<code>v-if</code>是完整的销毁和重新创建<br>
使用频繁切换时用<code>v-show</code>，运行时较少改变时用<code>v-if</code><br> <code>v-if=‘false’</code> <code>v-if</code>是条件渲染，当<code>false</code>的时候不会渲染</p> <h2 id="开发中常用的指令有哪些"><a href="#开发中常用的指令有哪些" aria-hidden="true" class="header-anchor">#</a> 开发中常用的指令有哪些</h2> <p><code>v-model</code>:一般用在表达输入，很轻松的实现表单控件和数据的双向绑定<br> <code>v-html</code>: 更新元素的 innerHTML<br> <code>v-show</code>与<code>v-if</code>: 条件渲染<br> <code>v-on:click</code>: 可以简写为<code>@click</code>,<code>@</code>绑定一个事件。如果事件触发了，就可以指定事件的处理函数<br> <code>v-for</code>:基于源数据多次渲染元素或模板块<br> <code>v-bind</code>: 当表达式的值改变时，将其产生的连带影响，响应式地作用于 DOM<br> <code>语法：v-bind:title=&quot;msg&quot; 简写：:title=&quot;msg&quot;</code></p> <h2 id="绑定-class-的数组用法"><a href="#绑定-class-的数组用法" aria-hidden="true" class="header-anchor">#</a> 绑定 class 的数组用法</h2> <p>对象方法 <code>v-bind:class=&quot;{'orange': isRipe, 'green': isNotRipe}&quot;</code><br>
数组方法 <code>v-bind:class=&quot;[class1, class2]&quot;</code><br>
行内 <code>v-bind:style=&quot;{color: color, fontSize: fontSize+'px' }&quot;</code></p> <h2 id="组件之间的传值通信"><a href="#组件之间的传值通信" aria-hidden="true" class="header-anchor">#</a> 组件之间的传值通信</h2> <p><strong>父组件给子组件传值</strong></p> <blockquote><p>使用 props，父组件可以使用 props 向子组件传递数据</p></blockquote> <p><strong>子组件向父组件通信</strong></p> <blockquote><p>父组件向子组件传递事件方法，子组件通过$emit 触发事件，回调给父组件</p></blockquote> <p><strong>非父子，兄弟组件之间通信</strong></p> <blockquote><p>可以通过实例一个 vue 实例 Bus 作为媒介，要相互通信的兄弟组件之中，都引入 Bus，然后通过分别调用 Bus 事件触发和监听来实现通信和参数传递</p></blockquote> <h2 id="路由跳转方式"><a href="#路由跳转方式" aria-hidden="true" class="header-anchor">#</a> 路由跳转方式</h2> <ol><li><code>&lt;router-link to='home'&gt;</code> router-link 标签会渲染为<code>&lt;a&gt;</code>标签，咋填 template 中的跳转都是这种</li> <li>另一种是编程是导航 也就是通过 js 跳转 比如 <code>router.push('/home')</code></li></ol> <h2 id="mvvm"><a href="#mvvm" aria-hidden="true" class="header-anchor">#</a> MVVM</h2> <p>M - Model，Model 代表数据模型，也可以在 Model 中定义数据修改和操作的业务逻辑<br>
V - View，View 代表 UI 组件，它负责将数据模型转化为 UI 展现出来<br>
VM - ViewModel，ViewModel 监听模型数据的改变和控制视图行为、处理用户交互，简单理解就是一个同步 View 和 Model 的对象，连接 Model 和 View</p> <h2 id="computed-和-watch-有什么区别"><a href="#computed-和-watch-有什么区别" aria-hidden="true" class="header-anchor">#</a> computed 和 watch 有什么区别?</h2> <p>watch 和 computed 都可以用来监控某个属性值的变化</p> <h3 id="computed"><a href="#computed" aria-hidden="true" class="header-anchor">#</a> computed:</h3> <blockquote><p><a href="https://segmentfault.com/a/1190000010408657" target="_blank" rel="noopener noreferrer">computed工作原理<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote> <ol><li>computed 是计算属性,也就是计算值,它更多用于计算值的场景</li> <li>computed 具有缓存性,computed 的值在 getter 执行后是会缓存的，只有在它依赖的属性值改变之后，下一次获取 computed 的值时才会重新调用对应的 getter 来计算</li> <li>computed 适用于计算比较消耗性能的计算场景</li></ol> <h3 id="watch"><a href="#watch" aria-hidden="true" class="header-anchor">#</a> watch:</h3> <ol><li>更多的是「观察」的作用,类似于某些数据的监听回调,用于观察 props $emit 或者本组件的值,当数据变化时来执行回调进行后续操作</li> <li>无缓存性，页面重新渲染时值不变化也会执行</li></ol> <p><strong>小结</strong></p> <ol><li>当我们要进行数值计算,而且依赖于其他数据，那么把这个数据设计为 computed</li> <li>如果你需要在某个数据变化时做一些事情，使用 watch 来观察这个数据变化</li></ol> <h2 id="key"><a href="#key" aria-hidden="true" class="header-anchor">#</a> key</h2> <p><code>key</code>是为 Vue 中的 <code>vnode</code> 标记的唯一 id，通过这个<code>key</code>，我们的<code>diff</code>操作可以更准确、更快速<br> <strong>准确</strong><br>
如果不加<code>key</code>,那么<code>Vue</code>会选择复用节点(<code>Vue</code>的就地更新策略),导致之前节点的状态被保留下来，会产生一系列的 bug<br> <strong>快速</strong><br> <code>key</code>的唯一性可以被<code>Map</code>数据结构充分利用</p> <h2 id="组件中的-data-为什么是函数"><a href="#组件中的-data-为什么是函数" aria-hidden="true" class="header-anchor">#</a> 组件中的 data 为什么是函数</h2> <p>因为组件是用来复用的，JS 里对象是引用关系，这样作用域没有隔离，而 new Vue 的实例，是不会被复用的，因此不存在引用对象问题。</p> <h2 id="keep-alive"><a href="#keep-alive" aria-hidden="true" class="header-anchor">#</a> keep-alive</h2> <p><code>keep-alive</code>是<code>Vue</code>内置的一个组件，可以使被包含的组件保留状态，避免重新渲染，其有以下特性：</p> <ul><li>一般结合路由和动态组件一起使用，用于缓存组件。</li> <li>提供 <code>include</code> 和 <code>exclude</code> 属性，两者都支持字符串或正则表达式，<code>include</code>表示只有名称匹配的组件会被缓存，<code>exclude</code>表示任何名称匹配的组件都不会被缓存 ，其中<code>exclude</code>的优先级比<code>include</code>高。</li> <li>对应两个钩子函数<code>activated</code>和<code>deactivated</code>，当组件被激活时，触发钩子函数<code>activated</code>，当组件被移除时，触发钩子函数<code>deactivated</code>。</li></ul> <h2 id="v-model-的原理"><a href="#v-model-的原理" aria-hidden="true" class="header-anchor">#</a> v-model 的原理</h2> <p><code>vue</code>项目中主要使用<code>v-model</code>指令在表单<code>input</code>、<code>textarea</code>、<code>select</code>等元素上创建双向数据绑定，我们知道<code>v-model</code>本质上不过是语法糖，<code>v-model</code>在内部为不同的输入元素使用不同的属性并抛出不同的事件：</p> <p><code>text</code>和<code>textarea</code>元素使用<code>value</code>属性和<code>input</code>事件；<br> <code>checkbox</code>和<code>radio</code>使用<code>checked</code>属性和<code>change</code>事件；<br> <code>select</code>字段将<code>value</code>作为<code>prop</code>并将<code>change</code>作为事件；</p> <p>以<code>input</code>表单元素为例：<br> <code>&lt;input v-model='something'&gt;</code><br>
复制代码相当于<br> <code>&lt;input v-bind:value=&quot;something&quot; v-on:input=&quot;something = $event.target.value&quot;&gt;</code><br>
复制代码如果在自定义组件中，v-model 默认会利用名为<code>value</code>的<code>prop</code>和名为<code>input</code>的事件，如下所示：<br> <strong>父组件：</strong></p> <div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">&lt;</span>ModelChild v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">&quot;message&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>ModelChild<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>子组件：</strong></p> <div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>value<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
props<span class="token punctuation">:</span><span class="token punctuation">{</span>
    value<span class="token punctuation">:</span> String
<span class="token punctuation">}</span><span class="token punctuation">,</span>
methods<span class="token punctuation">:</span> <span class="token punctuation">{</span>
  <span class="token function">test1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
     <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">,</span> <span class="token string">'小红'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="nexttick"><a href="#nexttick" aria-hidden="true" class="header-anchor">#</a> nextTick()</h2> <p>在下次 DOM 更新循环结束之后执行延迟回调。在修改数据之后，立即使用的这个回调函数，获取更新后的 DOM。</p> <div class="language-JavaScript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 修改数据</span>
vm<span class="token punctuation">.</span>msg <span class="token operator">=</span> <span class="token string">'Hello'</span>
<span class="token comment">// DOM 还未更新</span>
Vue<span class="token punctuation">.</span><span class="token function">nextTick</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// DOM 更新</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="vue-组件"><a href="#vue-组件" aria-hidden="true" class="header-anchor">#</a> vue 组件</h2> <p>组件是一个 vue 实例</p> <h2 id="vue-插槽"><a href="#vue-插槽" aria-hidden="true" class="header-anchor">#</a> vue 插槽</h2> <h2 id="vuex-工作原理及内容"><a href="#vuex-工作原理及内容" aria-hidden="true" class="header-anchor">#</a> vuex 工作原理及内容</h2> <p>先给出结论:<code>vuex中的store本质就是没有template的隐藏着的vue组件</code>
核心概念：</p> <ul><li>State</li> <li>Getter</li> <li>Mutation</li> <li>Action</li> <li>Module</li></ul> <h2 id="vue-项目优化"><a href="#vue-项目优化" aria-hidden="true" class="header-anchor">#</a> vue 项目优化</h2> <h3 id="_1-代码层面的优化"><a href="#_1-代码层面的优化" aria-hidden="true" class="header-anchor">#</a> 1. 代码层面的优化</h3> <ul><li><code>v-if</code>和<code>v-show</code>区分使用场景</li> <li><code>computed</code>和<code>watch</code>区分使用场景</li> <li><code>v-for</code>遍历必须为<code>item</code>添加<code>key</code>，且避免同时使用<code>v-if</code></li> <li>长列表性能优化</li> <li>事件的销毁</li> <li>图片资源懒加载</li> <li>路由懒加载</li> <li>第三方插件的按需引入</li> <li>优化无限列表性能</li> <li>服务端渲染 SSR or 预渲染</li></ul> <h3 id="_2-webpack层面的优化"><a href="#_2-webpack层面的优化" aria-hidden="true" class="header-anchor">#</a> 2. <code>webpack</code>层面的优化</h3> <ul><li><code>Webpack</code>对图片进行压缩</li> <li>减少<code>ES6</code>转为<code>ES5</code>的冗余代码</li> <li>提取公共代码</li> <li>模板预编译</li> <li>提取组件的<code>CSS</code></li> <li>优化<code>SourceMap</code></li> <li>构建结果输出分析</li> <li><code>Vue</code>项目的编译优化</li></ul> <h3 id="_3-基础的-web-技术的优化"><a href="#_3-基础的-web-技术的优化" aria-hidden="true" class="header-anchor">#</a> 3.基础的 Web 技术的优化</h3> <ul><li>开启<code>gzip</code>压缩</li> <li>浏览器缓存</li> <li><code>CDN</code>的使用</li> <li>使用<code>Chrome Performance</code>查找性能瓶颈</li></ul></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新时间:</span> <span class="time">8/11/2020, 4:44:59 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/interview/Html/" class="prev">HTML</a></span> <span class="next"><a href="/interview/ES6/">ES6</a>→
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.ff41487b.js" defer></script><script src="/assets/js/2.2b6ae421.js" defer></script><script src="/assets/js/9.1fe441f8.js" defer></script>
  </body>
</html>
